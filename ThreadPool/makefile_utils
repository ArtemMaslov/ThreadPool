# Запустить программу на выполнение.
run:
	cd $(BIN) && ./$(TARGET_NAME)

###############################################################################

# Создать выходную папку для исполняемых файлов.
dir_bin:
	$(if $(wildcard $(BIN)), , $(call CMD_CREATE_DIR, $(BIN)) )

# Создать выходную папку для объектных файлов.
dir_obj:
	$(if $(wildcard $(OBJ)), , $(call CMD_CREATE_DIR, $(OBJ)) )

dir_dpnd:
	$(if $(wildcard $(DEPENDENCIES_DIR)), , $(call CMD_CREATE_DIR, $(DEPENDENCIES_DIR)) )

# Очистить папку с объектными файлами.
clear_obj:
	$(if $(wildcard $(OBJ)), $(call CMD_DELETE_DIR, $(OBJ)), )
# Очистить папку с исполняемыми файлами.
clear_bin:
	$(if $(wildcard $(BIN)), $(call CMD_DELETE_DIR, $(BIN)) , )

clear_dpnd:
	$(if $(wildcard $(DEPENDENCIES_DIR)), $(call CMD_DELETE_DIR, $(DEPENDENCIES_DIR)) , )

###############################################################################

# Вывести сообщение о начале сборки проекта/теста.
# 1 аргумент - название цели сборки.
msg_build            = @echo "$(C_Y)Сборка $(strip $1) ...$(C_D)"
# Вывести сообщение о завершении сборки программы.
msg_build_complete   = @echo "$(C_G)Сборка программы успешно завершена.$(C_D)"
# Вывести сообщение о начале компиляции модуля.
# 1 аргумент - название компилируемого модуля.
msg_compile          = @echo "$(C_Y)Компиляция $(strip $1) ...$(C_D)"
# Вывести сообщение о завершении сборки программы.
msg_compile_complete = @echo "$(C_G)Компиляция программы успешно завершена.$(C_D)"
# Вывести сообщение о компиляции файла.
# 1 аргумент - имя компилируемого файла.
msg_file_compile     = @echo "$(C_M)\tКомпиляция $(F_B)$(strip $1) $(F_N)...$(C_D)"
# Вывести сообщение о начале редактирования связей.
msg_linking          = @echo "$(C_Y)Редактирование связей ...$(C_D)"

# Команда вызова make для модуля.
# 1 аргумент - путь к директории модуля.
# 2 аргумент - аргументы, передаваемые make
call_make          = @cd $1 && $(MAKE) $2 --no-print-directory --quiet

###############################################################################

.PHONY: run dir_bin dir_obj clear_obj clear_bin dir_dpnd clear_dpnd